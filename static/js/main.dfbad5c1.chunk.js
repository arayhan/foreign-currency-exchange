(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a.p+"static/media/loading.3e803924.gif"},12:function(e,t,a){e.exports=a(31)},22:function(e,t,a){},23:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(2),s=a.n(c),i=a(3),o=a(4),l=a(6),u=a(5),m=a(7),h=a(9),p=(a(22),a(23),a(10)),d=a.n(p),y=(a(28),function(e){return r.a.createElement("div",{className:"currency-card"},r.a.createElement("div",{className:"card-left"},r.a.createElement("div",{className:"currency-value"},r.a.createElement("span",null,e.currency),r.a.createElement("span",null,r.a.createElement(d.a,{value:e.amount*e.rates,displayType:"text",thousandSeparator:!0}))),r.a.createElement("div",{className:"currency-detail"},r.a.createElement("span",null,e.abbreviation),r.a.createElement("span",null,r.a.createElement("em",null,"1 USD = ",e.currency," ",e.rates)))),r.a.createElement("button",{className:"btn-delete",value:e.currency,onClick:e.onDelete},r.a.createElement("i",{className:"fas fa-minus"})))}),f=(a(29),function(e){return r.a.createElement("div",{className:"popup ".concat(e.show?"show":"")},r.a.createElement("div",{className:"popup-background",onClick:e.handleClick}),r.a.createElement("div",{className:"popup-inner"},r.a.createElement("h3",null,"Select Currency"),r.a.createElement("form",{onSubmit:e.handleSubmit,name:"selectCurrencyForm"},r.a.createElement("select",{name:"currency",defaultValue:Object.keys(e.rates)[0],onChange:e.handleChange},Object.keys(e.rates).map(function(t,a){return!e.currencyItems.includes(t)&&r.a.createElement("option",{key:t,value:t},t)})),r.a.createElement("button",{type:"submit"},"Add Currency"))))}),b=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isPopupShow:!1,inputValue:""},a.handleSubmit=function(e){var t=new FormData(e.target);a.props.onAddCurrency(t.get("currency")),a.setState({isPopupShow:!a.state.isPopupShow}),e.preventDefault()},a.handleChange=function(e){var t=e.target.value;a.setState({inputValue:t})},a.onDelete=function(e){a.props.onDeleteItems(e.target.value)},a.handleClick=function(e){var t=e.target.className;(!a.state.isPopupShow||"popup-background"===t)&&a.setState({isPopupShow:!a.state.isPopupShow})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.rates,n=t.abbreviation,c=t.currencyItems,s=t.amount;return r.a.createElement("section",{id:"main"},r.a.createElement("div",{className:"currency-card-container"},0===c.length&&r.a.createElement("span",{style:{textAlign:"center",color:"rgba(255,0,100,0.7)"}},"Data is empty ",r.a.createElement("br",null),"Press the button below to add currency"),c.map(function(t){return r.a.createElement(y,{key:t,currency:t,rates:a[t]||0,abbreviation:n[t],amount:s,onDelete:e.onDelete})})),r.a.createElement("button",{onClick:this.handleClick},r.a.createElement("i",{className:"fas fa-plus"})," Add More Currencies"),r.a.createElement(f,{show:this.state.isPopupShow,rates:a,handleClick:this.handleClick,handleSubmit:this.handleSubmit,handleChange:this.handleChange,currencyItems:c}))}}]),t}(n.Component),v=(a(30),a(11)),g=a.n(v),E=function(e){return r.a.createElement("div",{className:"loading-wrapper ".concat(e.show)},r.a.createElement("img",{src:g.a,alt:"Loading"}),r.a.createElement("span",null,"Loading..."))},C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){null===a.getLocalCurrencies()&&a.setLocalCurrencies(a.state.setDefaultCurrencies),a.setState({isLoading:!0,currencyItems:a.getLocalCurrencies()}),fetch("https://api.exchangeratesapi.io/latest?base=".concat(a.state.setCurrency)).then(function(e){return e.json()}).then(function(e){return a.setState({rates:e.rates,isLoading:!1})}),fetch("https://openexchangerates.org/api/currencies.json").then(function(e){return e.json()}).then(function(e){return a.setState({abbreviation:e,isLoading:!1})})},a.handleChange=function(e,t,n){a.setState({inputValue:t,amount:n})},a.onAddCurrency=function(e){a.state.currencyItems.push(e),a.setLocalCurrencies(a.state.currencyItems)},a.onDeleteItems=function(e){var t=a.state.currencyItems.filter(function(t){return t!==e});a.setState({currencyItems:t}),a.setLocalCurrencies(t)},a.state={amount:1,inputValue:1,setCurrency:"USD",currencyItems:[],setDefaultCurrencies:["IDR","EUR","GBP","SGD"],rates:{},abbreviation:{},isLoading:!0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getLocalCurrencies",value:function(){return JSON.parse(localStorage.getItem("currencies"))}},{key:"setLocalCurrencies",value:function(e){localStorage.setItem("currencies",JSON.stringify(e))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.setCurrency;return r.a.createElement("div",{className:"App"},r.a.createElement(E,{show:t?"show":"hide"}),r.a.createElement("div",{className:"wrapper"},r.a.createElement("header",null,r.a.createElement("div",{className:"header-background"}),r.a.createElement("div",{className:"header__inner"},r.a.createElement("div",{className:"circle-icon header__currency-acronym"},a),r.a.createElement("span",null,this.state.abbreviation[a]),r.a.createElement("span",null,"( Type on the input text below )"),r.a.createElement(h.a,{value:this.state.inputValue,onChangeEvent:this.handleChange,autoFocus:"true",prefix:"$ ",precision:"1"}))),r.a.createElement(b,{isLoading:this.state.isLoading,abbreviation:this.state.abbreviation,rates:this.state.rates,amount:this.state.amount,currencyItems:this.state.currencyItems,onDeleteItems:this.onDeleteItems,onAddCurrency:this.onAddCurrency})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[12,1,2]]]);
//# sourceMappingURL=main.dfbad5c1.chunk.js.map